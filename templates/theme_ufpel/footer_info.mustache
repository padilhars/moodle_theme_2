{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_ufpel/footer_info

    Template das informações institucionais do rodapé para o tema UFPel.
    
    Este template adiciona informações específicas da UFPel ao rodapé,
    incluindo copyright, links institucionais e informações de contato.
    
    Variáveis do contexto:
    * current_year - Ano atual
    * institution_name - Nome da instituição
    * institution_url - URL institucional

    @package theme_ufpel
    @copyright 2025 Universidade Federal de Pelotas
    @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}

<div class="ufpel-footer-info py-4 mt-4 border-top">
    <div class="container-fluid">
        <div class="row align-items-center">
            
            {{! Logo e informações institucionais }}
            <div class="col-md-6 mb-3 mb-md-0">
                <div class="d-flex align-items-center">
                    {{! Logo UFPel no rodapé }}
                    {{#ufpel_logo}}
                    <img src="{{ufpel_logo}}" 
                         alt="{{institution_name}}" 
                         class="ufpel-footer-logo me-3"
                         height="32"
                         loading="lazy">
                    {{/ufpel_logo}}
                    
                    {{! Informações textuais }}
                    <div class="ufpel-footer-text">
                        <div class="h6 mb-1 text-ufpel-primary">{{institution_name}}</div>
                        <small class="text-muted">
                            © {{current_year}} - {{#str}}allrightsreserved, theme_ufpel{{/str}}
                        </small>
                    </div>
                </div>
            </div>
            
            {{! Links úteis }}
            <div class="col-md-3 mb-3 mb-md-0">
                <h6 class="text-ufpel-primary mb-2">{{#str}}quicklinks, theme_ufpel{{/str}}</h6>
                <ul class="list-unstyled mb-0 small">
                    <li class="mb-1">
                        <a href="{{institution_url}}" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="text-decoration-none">
                            <i class="fa fa-external-link-alt me-1" aria-hidden="true"></i>
                            {{#str}}institutionalsite, theme_ufpel{{/str}}
                        </a>
                    </li>
                    <li class="mb-1">
                        <a href="{{institution_url}}/biblioteca" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="text-decoration-none">
                            <i class="fa fa-book me-1" aria-hidden="true"></i>
                            {{#str}}library, theme_ufpel{{/str}}
                        </a>
                    </li>
                    <li class="mb-1">
                        <a href="{{institution_url}}/suporte" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="text-decoration-none">
                            <i class="fa fa-life-ring me-1" aria-hidden="true"></i>
                            {{#str}}support, theme_ufpel{{/str}}
                        </a>
                    </li>
                </ul>
            </div>
            
            {{! Informações de acessibilidade }}
            <div class="col-md-3">
                <h6 class="text-ufpel-primary mb-2">{{#str}}accessibility, theme_ufpel{{/str}}</h6>
                <div class="d-flex flex-wrap gap-2">
                    {{! Badge WCAG 2.2 }}
                    <span class="badge bg-success" title="{{#str}}wcagcompliant, theme_ufpel{{/str}}">
                        <i class="fa fa-universal-access me-1" aria-hidden="true"></i>
                        WCAG 2.2 AA
                    </span>
                    
                    {{! Badge responsivo }}
                    <span class="badge bg-info" title="{{#str}}responsive, theme_ufpel{{/str}}">
                        <i class="fa fa-mobile-alt me-1" aria-hidden="true"></i>
                        {{#str}}responsive, theme_ufpel{{/str}}
                    </span>
                </div>
                
                {{! Link para políticas de acessibilidade }}
                <div class="mt-2">
                    <a href="{{institution_url}}/acessibilidade" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="small text-decoration-none">
                        {{#str}}accessibilitypolicy, theme_ufpel{{/str}}
                    </a>
                </div>
            </div>
        </div>
        
        {{! Linha separadora e informações técnicas }}
        <hr class="my-3 border-ufpel-primary opacity-25">
        
        <div class="row align-items-center">
            <div class="col-md-8">
                <small class="text-muted">
                    {{#str}}poweredby, theme_ufpel{{/str}} 
                    <a href="https://moodle.org" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="text-ufpel-primary text-decoration-none">
                        Moodle
                    </a>
                    | {{#str}}themeversion, theme_ufpel{{/str}} 1.0.0
                </small>
            </div>
            
            <div class="col-md-4 text-md-end">
                <small class="text-muted">
                    {{#str}}lastupdate, theme_ufpel{{/str}}: 
                    <time datetime="{{current_year}}-09-05">{{currentmonth}} 2025</time>
                </small>
            </div>
        </div>
    </div>
</div>

{{! CSS específico para o rodapé UFPel }}
<style>
.ufpel-footer-info {
    background: linear-gradient(135deg, rgba(0, 64, 143, 0.05) 0%, rgba(0, 128, 255, 0.05) 100%);
    border-top: 2px solid #00408F !important;
}

.ufpel-footer-logo {
    max-height: 32px;
    width: auto;
    transition: opacity 0.2s ease-in-out;
}

.ufpel-footer-logo:hover {
    opacity: 0.8;
}

.ufpel-footer-text .h6 {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.ufpel-footer-info a {
    color: #00408F;
    transition: color 0.2s ease-in-out;
}

.ufpel-footer-info a:hover,
.ufpel-footer-info a:focus {
    color: #0080FF;
    text-decoration: underline;
}

.ufpel-footer-info .badge {
    font-size: 0.7rem;
    font-weight: 500;
}

.ufpel-footer-info ul li {
    transition: transform 0.2s ease-in-out;
}

.ufpel-footer-info ul li:hover {
    transform: translateX(2px);
}

/* Responsividade */
@media (max-width: 768px) {
    .ufpel-footer-info .row > div {
        text-align: center;
        margin-bottom: 1rem;
    }
    
    .ufpel-footer-info .col-md-4.text-md-end {
        text-align: center !important;
    }
    
    .ufpel-footer-logo {
        max-height: 28px;
    }
}

/* Alto contraste */
@media (prefers-contrast: high) {
    .ufpel-footer-info {
        background: #f8f9fa;
        border-top: 3px solid #00408F !important;
    }
    
    .ufpel-footer-info a {
        font-weight: 600;
    }
}

/* Modo escuro (preparação futura) */
@media (prefers-color-scheme: dark) {
    .ufpel-footer-info {
        background: linear-gradient(135deg, rgba(0, 64, 143, 0.1) 0%, rgba(0, 128, 255, 0.1) 100%);
    }
    
    .ufpel-footer-logo {
        filter: brightness(0.9);
    }
}
</style>